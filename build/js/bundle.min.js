function resaltarEnlace(){document.addEventListener("scroll",(function(){const e=document.querySelectorAll("section"),a=document.querySelectorAll(".navegacion-principal a");let n="";e.forEach((e=>{const a=e.offsetTop,t=e.clientHeight;window.scrollY>=a-t/3&&(n=e.id)})),a.forEach((e=>{e.classList.remove("active"),e.getAttribute("href")==="#"+n&&e.classList.add("active")}))}))}document.addEventListener("DOMContentLoaded",(function(){resaltarEnlace()})),document.getElementById("calcular").addEventListener("click",(function(){let e=document.getElementById("numCamiones").value;const a=document.getElementById("agregarObjetivo").checked,n=document.getElementById("objetivoIndustriales").value,t=document.getElementById("objetivoAutos").value;let o=[];""===e&&parseInt(e=5),console.log(e),(e<1||e>15)&&o.push("El número de camiones debe estar entre 1 y 15."),e<=0&&o.push("El número de camiones debe ser mayor que 0."),a&&((n<1||n>1e4)&&o.push("El objetivo mínimo de demanda para componentes industriales debe estar entre 1 y 10000."),(t<1||t>3e3)&&o.push("El objetivo mínimo de demanda para componentes para autos debe estar entre 1 y 3000."),""!==n&&""!==t||o.push("Debe ingresar los valores de demanda mínima para ambos componentes.")),o.length>0?alert(o.join("\n")):(generarResultados(),document.getElementById("resultados-section").classList.remove("hidden"),document.getElementById("resultados-section").scrollIntoView({behavior:"smooth"}))})),document.getElementById("sliderMin").oninput(20),document.getElementById("sliderMax").oninput(30),document.getElementById("agregarObjetivo").addEventListener("change",(function(){const e=document.getElementById("objetivos"),a=document.getElementById("objetivoIndustriales"),n=document.getElementById("objetivoAutos");this.checked?e.classList.remove("hidden"):(e.classList.add("hidden"),a.value="",n.value="")})),document.addEventListener("DOMContentLoaded",(function(){document.getElementById("agregarObjetivo").checked=!1,document.getElementById("numCamiones").value="",document.getElementById("objetivoIndustriales").value="",document.getElementById("objetivoAutos").value="",document.getElementById("sliderMin").value="20",document.getElementById("sliderMax").value="30"}));let normalSalida={valor:0};function Normal(e,a,n){let t=0;for(let e=1;e<=12;e++)GU(u),t+=u.valorU;let o=a*(t-6)+e;return n.valor=o}function Poisson(e,a){let n=Math.pow(2.71,-e),t=0,o=1;for(;o>n;)GU(u),o*=u.valorU,t+=1;return a.valor=t}function GU(e){e.semilla=5631*e.semilla%547;let a=e.semilla/547;return e.valorU=a}let graficoProductos,graficoBasuraAluminio,u={semilla:Math.floor(100*Math.random()),valorU:0};function generarResultados(){let e=0,a=0,n=0,t=0,o=0,d=0,l=0,r=0,s=0,i={valor:0},c={valor:0},m={valor:0},p=0,v=0,g=0,b=0,E=document.getElementById("numCamiones").value;""===E&&parseInt(E=5);let h=parseInt(document.getElementById("sliderMin").value),f=parseInt(document.getElementById("sliderMax").value);const y=document.getElementById("objetivoIndustriales").value,I=document.getElementById("objetivoAutos").value;for(;e<30;){for(Poisson(E,m);m.valor>0;)GU(u),d=Math.floor(h+(f-h)*u.valorU),a+=d,m.valor=m.valor-1;n+=a,GU(u);let o=45+30*u.valorU;t+=Math.floor(a*(o/100)),a=0,e++}for(o=t;t>0;)GU(u),u.valorU<.1?(l++,Normal(6,1,i),i.valor=Math.round(i.valor),v+=i.valor):u.valorU<.5?(r++,Normal(400,50,c),c.valor=Math.round(c.valor),g+=c.valor):(s++,GU(u),p=Math.round(2+2*u.valorU),b+=p),t--;let B=o<2500?'<p>Se comprarán dos nuevos camiones recolectores para aumentar la capacidad de recolección de basura.</p><img src="src/img/camionNuevo.jpg" alt="camion nuevo">':'<p>Se adquirirá una nueva máquina trituradora para aumentar la capacidad de trituración de aluminio.</p><img src="src/img/trituradora.png" alt="trituradora nueva">\n',$=g<37e4?`<p><span>NO</span> se alcanzó la meta de demanda mínima establecida de <span>370000</span> utensilios de cocina Essen, con un déficit de <span>${37e4-g}</span>. Como resultado, se procederá a contratar un nuevo gerente de planta.</p>`:`<p>Se ha logrado satisfactoriamente la meta de demanda de <span>370000</span> utensilios de cocina Essen, cumpliendo con el objetivo establecido y superándolo por <span>${g-37e4}</span> unidades.</p>`,M="",j="";I>0&&y>0?(M=I<v?`<p>Se ha cumplido satisfactoriamente con la meta mínima de demanda de componentes para autos, alcanzando el objetivo propuesto de <span>${I}</span> y superándolo por <span>${v-I}</span>.</p>`:`<p><span>NO</span> se alcanzó la meta mínima establecida para la demanda de componentes automotrices, quedando un déficit de <span>${I-v}</span> para cumplir con el objetivo de <span>${I}</span>.</p>`,j=y<b?`<p>Se alcanzó con éxito la meta de demanda mínima para componentes industriales, logrando el objetivo de <span>${y}</span> y superándolo por <span>${b-y}</span>.</p>`:`<p><span>NO</span> se alcanzó la meta mínima establecida para la demanda de componentes industriales, quedando un déficit de <span>${y-b}</span> para cumplir con el objetivo de <span>${y}</span>.</p>`):(M="",j=""),graficoProductos&&graficoProductos.destroy(),graficoBasuraAluminio&&graficoBasuraAluminio.destroy();let A=document.getElementById("graficoProductos").getContext("2d");graficoProductos=new Chart(A,{type:"pie",data:{labels:["Aluminio99","Aluminio80","Aluminio50"],datasets:[{label:"Distribución de Aluminio",data:[l,r,s],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){let a=e.dataset.data.reduce(((e,a)=>e+a),0),n=e.raw,t=(n/a*100).toFixed(2);return`${e.label}: ${n} (${t}%)`}}}}}});let L=document.getElementById("graficoBasuraAluminio").getContext("2d");if(graficoBasuraAluminio=new Chart(L,{type:"pie",data:{labels:["Basura","Aluminio  Reciclado"],datasets:[{label:"Basura vs Aluminio Reciclado",data:[n-o,o],backgroundColor:["rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){let a=e.dataset.data.reduce(((e,a)=>e+a),0),n=e.raw,t=(n/a*100).toFixed(2);return`${e.label}: ${n} (${t}%)`}}}}}}),u.semilla=Math.floor(100*Math.random()),0==s||0==r||0==l||0==n)console.log("ERROR................................................................................................................................................................................"),generarResultados();else{let e=`\n            <table class="content-table">\n                <thead>\n                <tr>\n                    <th>Descripción</th>\n                    <th>Valor</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr>\n                    <td>Toneladas de chatarra que ingresaron en el mes</td>\n                    <td><span>${n}</span></td>\n                </tr>\n                <tr>\n                    <td>El promedio diario, en toneladas, de chatarra</td>\n                    <td><span>${Math.floor(n/30)}</span></td>\n                </tr>\n                <tr>\n                    <td>Toneladas Aluminio99 fabricado</td>\n                    <td><span>${l}</span></td>\n                </tr>\n                <tr>\n                    <td>Toneladas Aluminio80 fabricado</td>\n                    <td><span>${r}</span></td>\n                </tr>\n                <tr>\n                    <td>Toneladas Aluminio50 fabricado</td>\n                    <td><span>${s}</span></td>\n                </tr>\n                <tr>\n                    <td>Producción estimada de componentes para autos</td>\n                    <td><span>${v}</span></td>\n                </tr>\n                <tr>\n                    <td>Producción estimada de utensilios de cocina</td>\n                    <td><span>${g}</span></td>\n                </tr>\n                <tr>\n                    <td>Producción estimada de componentes industriales</td>\n                    <td><span>${b}</span></td>\n                </tr>\n                </tbody>\n            </table>\n        `,a=`<div class="loading">\n                    <div class="line-box">\n                        <div class="line-1"></div>\n                    </div>\n                </div>\n                <div class="loading-text"><p>En el proceso de reciclaje de aluminio, se han reciclado <span>${9*o}</span> toneladas de CO2.</p></div>`,t=`<div class="loading">\n                    <div class="line-box">\n                        <div class="line-2"></div>\n                    </div>\n                </div>\n                <div class="loading-text"><p>En el proceso de reciclaje, se han reciclado exitosamente <span>${o}</span> toneladas de aluminio.</p></div>`;document.getElementById("CO2").innerHTML=a,document.getElementById("chatarra").innerHTML=t,document.getElementById("resultados").innerHTML=e,document.getElementById("compra").innerHTML=B;let d=`${$}${M}${j}`;document.getElementById("demanda").innerHTML=d}}